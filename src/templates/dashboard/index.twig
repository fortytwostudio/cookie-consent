{% extends "_layouts/cp" %}

{% set title = "Cookie Consent" %}
{% set selectedSubnavItem = "dashboard" %}
{% set cpTrigger = craft.app.config.general.cpTrigger %}
{% set logs = fortycookie.getLogs %}
{% do view.registerAssetBundle("fortytwostudio\\cookieconsent\\assets\\DashboardAssets") %}

{% block content %}
	<div class="dashboard-blocks">
		<div class="dashboard-block dashboard-block--chart">
			<h2>Consent Logs</h2>
			<div id="chart" data-accepted="{{ logs.accepted }}" data-rejected="{{ logs.rejected }}" data-total="{{ logs.total }}"></div>
		</div>
		<div class="dashboard-block dashboard-block--stats">
			<div id="stats">
				<div id="cookie">
					<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 283.5 283.5">
						<path d="M275.25,123.89c-5.16-4.12-11.91-5.67-18.35-4.2-17.62,3.98-35.13-7.08-39.1-24.7-.51-2.25-.78-4.54-.8-6.85-.05-11.93-9.71-21.58-21.64-21.64-18.06-.2-32.54-15-32.34-33.06.03-2.3.29-4.6.8-6.85,2.64-11.76-4.76-23.43-16.53-26.07-1.54-.34-3.11-.52-4.68-.53-.3,0-.59,0-.88,0C63.44.01-.01,63.49,0,141.78c.01,78.29,63.49,141.74,141.78,141.72,78.29-.01,141.74-63.49,141.72-141.78,0-.28,0-.57,0-.85h0c-.02-6.62-3.06-12.88-8.25-16.99ZM226.49,226.63c-46.12,46.04-121.63,46.54-168.33,1.13-47.5-46.15-48.6-122.08-2.44-169.58,22.59-23.25,53.62-36.36,86.03-36.36.26,0,.53,0,.79,0-6.6,29.43,11.9,58.64,41.33,65.24,3.72.83,7.51,1.28,11.32,1.32.33,30.11,25,54.25,55.11,53.92,3.83-.04,7.65-.49,11.39-1.33,0,.02,0,.03,0,.05.3,32.12-12.4,63-35.2,85.62ZM191.48,190.15c6.39,6.39,6.39,16.74,0,23.13-6.39,6.39-16.74,6.39-23.13,0-6.39-6.39-6.39-16.74,0-23.13h0c6.39-6.39,16.74-6.39,23.13,0ZM104.25,179.25c6.39,6.39,6.39,16.74,0,23.13s-16.74,6.39-23.13,0-6.39-16.74,0-23.13c0,0,0,0,0,0,6.39-6.39,16.74-6.39,23.13,0ZM70.22,126.05c-6.39-6.39-6.39-16.74,0-23.13,6.39-6.39,16.74-6.39,23.13,0,6.39,6.39,6.39,16.74,0,23.13h0c-6.39,6.39-16.74,6.39-23.13,0ZM164.22,147.86c-6.39,6.39-16.74,6.39-23.13,0-6.39-6.39-6.39-16.74,0-23.13,6.39-6.39,16.74-6.39,23.13,0,6.39,6.39,6.39,16.74,0,23.13Z"/>
					</svg>
				</div>
				<span class="value">{{ fortycookie.getAllCookies | length }}</span>
				<span class="label">Total cookies</span>
			</div>
			<div class="card-footer">
				<a class="dashboard-link" href="/{{ cpTrigger }}/42cookie-consent/cookies" class="text-semi-lg flex-between-container w-100">
					<span>Manage Cookies</span>
					<svg viewBox="0 0 16 16" width="1em" height="1em" focusable="false" role="img" aria-label="chevron right" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor">
						<g transform="translate(8 8) scale(1.2 1.2) translate(-8 -8)">
							<path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"></path>
						</g>
					</svg>
				</a>
			</div>
		</div>
	</div>
{% endblock %}
